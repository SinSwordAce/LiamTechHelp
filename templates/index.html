{% extends "base.html" %}
{% block content %}
<div class="title">
    <p class="title1"><b>Welcome to Liam's Tech Help!</b></p>
</div>
<div class="container">
    <div class="text1">
        <p>At first this page was made to freshen up on my <b>HTML, CSS</b> and <b>JS</b> but after realizing I didn't have an actual topic, I decided to turn it into a website for <b>Liam's Tech Help</b></p>
    </div>
    <div class="image1">
        <img src="{{ url_for('static', filename='images/LTH.webp') }}" alt="Liam's Tech Help Logo" width="150vh">
    </div>
</div>

<!-- Comment Section -->
<div class="comment-section">
    <div class="comments-grid">
        <div class="comment-box prompt-box">
            <p><b>Why not comment yourself!</b></p>
            {% if logged_in %}
                <form method="POST" action="{{ url_for('add_comment') }}" enctype="multipart/form-data">
                    <div>
                        <label for="content">Your Comment:</label>
                        <textarea id="content" name="content" maxlength="200"></textarea>
                    </div>
                    <div>
                        <label for="image">Upload an Image:</label>
                        <input type="file" id="image" name="image" accept="image/*">
                    </div>
                    <button type="submit">Post</button>
                </form>
            {% else %}
                <p><a href="{{ url_for('login') }}">Log in</a> or <a href="{{ url_for('register') }}">register</a> to comment.</p>
            {% endif %}
        </div>
        {% for comment in comments %}
        <div class="comment-box">
            <p><b>{{ comment.username }}</b></p>
            <p>{{ comment.content }}</p>
            {% if comment.image %}
                <img src="{{ url_for('static', filename='uploads/' + comment.image) }}" alt="Comment Image" class="comment-image">
            {% endif %}
            <p><i>{{ comment.timestamp }}</i></p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
